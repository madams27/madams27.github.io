function search(){for(console.log("hello"),nodes=document.querySelectorAll(".nonprofitresult"),query=document.getElementById("search").value,regex=new RegExp(query,"i"),i=0;i<nodes.length;i++)node=nodes[i],node.innerText.match(regex)?node.classList.remove("hidden"):node.classList.add("hidden")}function readBlob(e,t){var n=document.getElementById("files").files;if(n.length){var a=n[0],r=parseInt(e)||0,d=parseInt(t)||a.size-1,o=new FileReader;o.onloadend=function(e){e.target.readyState==FileReader.DONE&&(document.getElementById("storage").textContent=e.target.result)};var l=a.slice(r,d+1);o.readAsBinaryString(l)}else alert("Please select a file!")}function Upload(){var e=document.getElementById("files");if(/^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt)$/.test(e.value.toLowerCase()))if("undefined"!=typeof FileReader){var t=new FileReader;t.onload=function(e){var t=e.target.result.split("\r");for(let i=0;i<t.length;i++)t[i]=t[i].replace(/\s/,"");for(var n=[],a=t[0].split(","),r=1;r<t.length;r++){for(var d={},o=t[r].split(","),l=0;l<a.length;l++)d[a[l]]=o[l];n.push(d)}var s=JSON.stringify(n);return document.getElementById("json-storage").textContent=s,JSON.stringify(n)},t.readAsText(e.files[0])}else alert("This browser does not support HTML5.");else alert("Please upload a valid CSV file.")}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#json-list ul"),t=document.forms;e.addEventListener("click",e=>{if("delete"==e.target.className){const t=e.target.parentElement;t.parentNode.removeChild(t)}});const n=t.addjson;n.addEventListener("submit",(function(t){t.preventDefault(),n.querySelector('input[type="text"]');const a=document.createElement("li"),r=document.createElement("span"),d=document.createElement("span");r.textContent=document.getElementById("json-storage").textContent,d.textContent="delete",addjson.classList.add("name"),d.classList.add("delete"),a.appendChild(r),a.appendChild(d),e.appendChild(a)}))})),document.querySelector("#reader").addEventListener("click",(function(e){"button"==e.target.tagName.toLowerCase()&&readBlob(e.target.getAttribute("data-startbyte"),e.target.getAttribute("data-endbyte"))}),!1);